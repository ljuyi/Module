<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .display{
            display:block;
        }
        ul{
            padding:10px 5px;
        }
        li{
            width:100%;
            padding:5px 3px;
            margin-top:2px;
        }
        li:hover{
            background:#000066;
            color:#fff;
        }
        li input[type="checkbox"]{
            display:block;
            float:left;
            margin-right:7px;
        }
        li>label{
            font-weight: normal;
        }
    </style>
</head>
<body>
<div class="dropdown">
    <button id="dLabel" class="btn btn-default" type="button" aria-haspopup="true" aria-expanded="false">
        下拉框
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            </ul>
        </ul>
    </ul>
    <button id="commit" type="button" class="btn btn-default">
        确定
    </button>
</div>
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
    var dropList = {
        '111':{'1-1':['11-1','11-2','11-3','11-4'],'1-2':['12-1','12-2','12-3','12-4']},
        '222':{'2-1':['21-1','21-2','21-3','21-4'],'2-2':['22-1','22-2','22-3','22-4']},
        '333':{'3-1':['31-1','31-2','31-3','31-4'],'3-2':['32-1','32-2','32-3','32-4']},
        '444':{'4-1':['41-1','41-2','41-3','41-4'],'4-2':['42-1','42-2','42-3','42-4']},
        '555':{'5-1':['51-1','51-2','51-3','51-4'],'5-2':['52-1','52-2','52-3','52-4']},
    };
    $('.dropdown>ul').css({left:$('.dropdown').position().left,top:$('.dropdown').position().top+$('.dropdown>button').height()+15});
    var x = 0, index;
    for(var i in dropList){
        $('.dropdown>ul>li').eq(x).html(i);
        x ++;
    }
    $('.dropdown>ul>li').click(function(){
        $('.dropdown>ul>ul').css({left:$('.dropdown>ul').position().left + $('.dropdown>ul').width() + 3});
        var top = $(this).position().top;
        $('.dropdown>ul>ul').css({top:top});
        $('.dropdown>ul>ul').addClass('display');
        $('.dropdown>ul>ul>li').remove();
        for(var j in dropList[$(this).html()]){
            $('.dropdown>ul>ul').append('<li><label><input type="checkbox"/>' + j + '</label></li>');
        }
        index = $(this).text();
    });
    $('.dropdown>ul>ul').on('click','>li',function(){
        $('.dropdown>ul>ul>ul').css({left:$('.dropdown>ul>ul').position().left});
        var top = $(this).position().top;
        $('.dropdown>ul>ul>ul').css({top:top});
        $('.dropdown>ul>ul>ul').addClass('display');
        $('.dropdown>ul>ul>ul>*').remove();
        dropList[index][$(this).text()].forEach(function(value){
            $('.dropdown>ul>ul>ul').append('<li><label><input type="checkbox"/>' + value + '</label></li>');
        })
    });
    $('#dLabel').click(function(){
        $('.dropdown>ul').toggleClass('display');
    });
    $('#commit').click(function(){
        /*remember which be selected*/
        $('.dropdown ul').removeClass('display');
    });
</script>
</body>
</html>